# Roadmap

-   Installer un  serveur 2012R2/2016/2019/2022  propre (ip fixe, nom unique)
-   Mettre un suffixe DNS pour avoir un FQDN du type ns1.bobdy.lan
-   Installer le Rôle DNS à partir de la console "Gérer Votre Serveur"
-   Mettre le DNS de votre IF sur 127.0.0.1
-   Vérifier la présence du service dans services.msc
-   Faire une résolution nslookup sur un nom de domaine internet
-   Vérifier la présence des binaires dans _%systemroot%\system32\_ à la lettre d et dans le dossier dns
-   Mettre à jour les roots-servers dns en les téléchargeant  via le site de l'internic  et les écrasant le fichier cache DNS
-   Modifier les propriétés générales du serveur  
-   Redirecteur
-   Logs à activer
-   Test de connexion (watchdog)
-   Analyser les logs existants et repérer un dialogue de résolution complet de nom entre votre hôte et [www.perdu.com](http://www.perdu.com/) (i.e) - tester un traffic sous Wireshark 
-   Choisir un nom de domaine unique et différent
-   Créer une zone de recherche directe principale
-   Créer une zone de recherche inversée principale
-   Créer un Record A pour votre serveur
-   Modifier le Record SOA et NS de vos 2 zones pour utiliser le nom pleinement qualifié de votre serveur DNS
-   Mettre comme serveur DNS préféré votre nouveau serveur pour l’hôte Windows 10 et le serveur (à priori déjà fait en 127.0.0.1)
-   Modifier le suffixe DNS sur la machine hôte
-   Ajouter des postes clients en Record A avec PTR
-   Ajouter le routeur le switch, le nas, l’access point et le serveur_fake en RECORD A
-   Ajouter les Alias CNAME
-   Ajouter un compte MX
-   Interroger l’annuaire à partir de NSLOOKUP sur l’hôte qui doit tout résoudre
-   Vérifier dans l’observateur d’évènement que les logs sont propres (no error, no warning)
-   Faites les best practices 
-   N’oubliez pas de configurer des exceptions dans le FireWall! (sur le port 53 en both (tcp/udp), si ce n'est pas déjà fait

BONUS
-   Créer un alias www sur votre serveur NS1 et installer SERVA32 pour faire un site web en 5 minutes
-   faire une exception dans le firewall pour le 80
-   Créer un Record TXT sur le serveur et interroger avec NSLOOKUP par l’hôte
-   Créer un Record LOC(ça dépend des versions) sur le serveur et interroger avec NSLOOKUP par l’hôte
-   Créer un serveur DNS secondaire sous 2012R2/2016/2019/2022  

NS2
-   créer un record A pour NS2 sur NS1
-   créer un NS sur NS1 pour NS2
-   installer le rôle sur NS2
-   créer deux zones secondaires (directe et inverse)
-   actualiser les 2 zones qui vont se peupler et vérifier l’équivalence des numéros de série
-   faire une panne (couper une interface réseau sur NS1) et continuer à surfer (failover)
-   Tester le Failover sur l'hôte Windows 10 via le surf web et le binaire nslookup (attention à son comportement)

# Mise en place
